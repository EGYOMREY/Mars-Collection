"use strict";$(document).ready(function(){function t(t,o){return Math.floor(Math.random()*(o-t+1)+t)}function o(t,o,e,s,n,i){$.getJSON(t,{format:"json"}).done(function(t){if(r.html(""),t.photos.length){for(var h=0;h<s;h+=2){var l=document.createElement("img");l.width=o,l.height=e,l.src=t.photos[h].img_src,l.style.margin="1em 0",a.appendChild(l)}r.append(a)}else r.html("No pictures for "+n+" on day "+i+", please hit the botton again!")}).fail(function(){console.log("error")}).always(function(){console.log("Rover "+n+". Martial Day "+i+" chosen")})}var e,s,n,a=document.createDocumentFragment(),i=["dummy","opportunity","curiosity","spirit"],r=$(".photosContainer"),h=$("#randomButton"),l=$("#searchButton"),p=$("#rangeImagesToDisplay"),c=$("#rangeHeightImage"),m=$("#rangeWidthImage"),u=$("#imagesToDisplayText"),g=$("#widthImageText"),d=$("#heightImageText"),f=$("#spirit"),v=$("#curiosity"),y=$("#opportunity"),b="curiosity",k=10,C=300,T=300;u.html(5),g.html(C),d.html(T),p.on("input",function(){u.html($(this).val()),k=$(this).val(),k*=2}),m.on("input",function(){g.html($(this).val()),C=$(this).val()}),c.on("input",function(){d.html($(this).val()),T=$(this).val()}),$(".roverButton").click(function(){b=$(this)[0].id,f.hasClass("btn-pressed")?f.removeClass("btn-pressed"):v.hasClass("btn-pressed")?v.removeClass("btn-pressed"):y.hasClass("btn-pressed")&&y.removeClass("btn-pressed"),$(this).toggleClass("btn-pressed")}),l.on("click",function(){s=t(1e3,2e3),o(n="https://api.nasa.gov/mars-photos/api/v1/rovers/"+b+"/photos?sol="+s+"&page=1&api_key=LQlfelUbO5f0rqk5UAS9REF5XhtwkG6oFX5TWOsc",C,T,k,b,s)}),h.on("click",function(){e=Math.floor(3*Math.random())+1,b=i[e],s=t(1e3,2e3),o(n="https://api.nasa.gov/mars-photos/api/v1/rovers/"+b+"/photos?sol="+s+"&page=1&api_key=LQlfelUbO5f0rqk5UAS9REF5XhtwkG6oFX5TWOsc",C,T,k,b,s)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInJhbmRvbWl6ZSIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImFqYXhDYWxsIiwidXJsIiwiaW1nIiwiY3JlYXRlRWxlbWVudCIsInBpY3R1cmVzVG9EaXNwbGF5IiwiY2hvc2VuUm92ZXIiLCJzb2xQYXJhbWV0ZXIiLCJoZWlnaHQiLCJmcmFnIiwiYXBwZW5kQ2hpbGQiLCJkYXRhIiwicGhvdG9zIiwibGVuZ3RoIiwiaSIsInBob3Rvc0NvbnRhaW5lciIsIndpZHRoIiwid2lkdGhWYWx1ZSIsImhlaWdodFZhbHVlIiwic3JjIiwiaW1nX3NyYyIsInN0eWxlIiwibWFyZ2luIiwiYXBwZW5kIiwiaHRtbCIsImZhaWwiLCJjb25zb2xlIiwibG9nIiwiYWx3YXlzIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsInJvdmVycyIsInNlYXJjaEJ1dHRvbiIsInJhbmdlSW1hZ2VzVG9EaXNwbGF5IiwicmFuZ2VIZWlnaHRJbWFnZSIsInJhbmdlV2lkdGhJbWFnZSIsIndpZHRoSW1hZ2VUZXh0IiwiaGVpZ2h0SW1hZ2VUZXh0IiwiY3VyaW9zaXR5QnV0dG9uIiwib3Bwb3J0dW5pdHlCdXR0b24iLCJpbWFnZXNUb0Rpc3BsYXlUZXh0Iiwib24iLCJ0aGlzIiwidmFsIiwiaWQiLCJzcGlyaXRCdXR0b24iLCJyZW1vdmVDbGFzcyIsImhhc0NsYXNzIiwidG9nZ2xlQ2xhc3MiLCJyYW5kb21Sb3ZlciJdLCJtYXBwaW5ncyI6ImFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0ErQ2QsU0FBQUMsRUFBQUMsRUFBQUMsR0FJSSxPQUFPQyxLQUFLQyxNQUFNRCxLQUFLRSxVQUFZSCxFQUFNRCxFQUFNLEdBQUtBLEdBaUZwQyxTQUFBSyxFQUFBQyxFQUFNQyxFQUFlQyxFQUFUQyxFQUFaQyxFQUFBQyxHQUNBSixFQUFBQSxRQUFBQSxHQUNBQSxPQUFJSyxTQUVKTCxLQUFBQSxTQUFBQSxHQUdILEdBRkdNLEVBQUtDLEtBQVlQLElBRXBCUSxFQUFBQyxPQUFBQyxPQUFBLENBRUUsSUFBQSxJQUFBQyxFQUFBLEVBQUFBLEVBQUFULEVBQUFTLEdBQUEsRUFBQSxDQUNIQyxJQUFBQSxFQUFBdEIsU0FBQVcsY0FBd0NFLE9BQzNDSCxFQUFBYSxNQUFBQyxFQUVDZCxFQUFXSyxPQUFBVSxFQUNEZixFQUFBZ0IsSUFBWlIsRUFBQUMsT0FBQUUsR0FBQU0sUUFFSWpCLEVBQUFrQixNQUFXQyxPQUFBLFFBQ2ZiLEVBQUFDLFlBQXFCSixHQXJKckNTLEVBQUFRLE9BQUFkLFFBOElvQk0sRUFBZ0JTLEtBQWhCLG1CQUF3Q2xCLEVBQXhDLFdBQThEQyxFQUE5RCxvQ0FHUGtCLEtBQUssV0FDRkMsUUFBUUMsSUFBSSxXQUVmQyxPQUFPLFdBQ0pGLFFBQVFDLElBQVIsU0FBcUJyQixFQUFyQixpQkFBaURDLEVBQWpELGFBakpaLElBb0NJVyxFQUVKWCxFQUVBTCxFQXhDSU8sRUFBT2hCLFNBQVNvQyx5QkFFaEJDLEdBQVUsUUFBUyxjQUFlLFlBQWEsVUFBL0NBLEVBQVN0QyxFQUFVLG9CQUduQnVCLEVBQUFBLEVBQUFBLGlCQUlBZ0IsRUFBZXZDLEVBQUUsaUJBSWpCd0MsRUFBdUJ4QyxFQUFFLHlCQUQ3QnlDLEVBQUF6QyxFQUFBLHFCQUVBMEMsRUFBQTFDLEVBQUEsb0JBR0kwQyxFQUFvQjFDLEVBQUEsd0JBSXBCMkMsRUFBaUIzQyxFQUFFLG1CQUZ2QjRDLEVBQUE1QyxFQUFBLG9CQUdJNEMsRUFBQUEsRUFBQUEsV0FJQUMsRUFBa0I3QyxFQUFFLGNBRnhCOEMsRUFBQTlDLEVBQUEsZ0JBRUk2QyxFQUFBQSxZQUdBL0IsRUFBYyxHQUVsQlcsRUFBQSxJQUVBQyxFQUFBLElBbUJBcUIsRUFBb0JmLEtBQUssR0FEekJXLEVBQUFYLEtBQUFQLEdBQ0FzQixFQUFBQSxLQUFvQmYsR0FPcEJRLEVBQXFCUSxHQUFHLFFBQVMsV0FDN0JELEVBQW9CZixLQUFLaEMsRUFBRWlELE1BQU1DLE9BQ2pDckMsRUFBb0JiLEVBQUVpRCxNQUFNQyxNQUU1QnJDLEdBQXFCLElBR3pCNkIsRUFBZ0JNLEdBQUcsUUFBUyxXQUN4QkwsRUFBZVgsS0FBS2hDLEVBQUVpRCxNQUFNQyxPQUM1QnpCLEVBQWF6QixFQUFFaUQsTUFBTUMsUUFHekJULEVBQWlCTyxHQUFHLFFBQVMsV0FDekJKLEVBQWdCWixLQUFLaEMsRUFBRWlELE1BQU1DLE9BQzdCeEIsRUFBYzFCLEVBQUVpRCxNQUFNQyxRQU10QnBDLEVBQUFBLGdCQUFjZCxNQUFBLFdBQWRjLEVBQWNkLEVBQUVpRCxNQUFNLEdBQUdFLEdBR3JCQyxFQUFhQyxTQUFBQSxlQURqQkQsRUFFV1AsWUFBZ0JTLGVBQ3ZCVCxFQUFnQlEsU0FBWSxlQUR6QlIsRUFFSUMsWUFBa0JRLGVBQ3pCUixFQUFrQk8sU0FBWSxnQkFDakNQLEVBQUFPLFlBQUEsZUFUTHJELEVBQUFpRCxNQUFBTSxZQUFBLGlCQWlCQWhCLEVBQWFTLEdBQUcsUUFBUyxXQUlyQnZDLEVBQWNnQixFQUFkLElBQTBCQyxLQUs5QmpCLEVBVEFDLEVBQUEsa0RBQUFJLEVBQUEsZUFBQUMsRUFBQSwyREFTQVUsRUFBQUMsRUFBQWIsRUFBQUMsRUFBQUMsS0FNSUwsRUFBTXNDLEdBQUEsUUFBQSxXQUVOdkMsRUFBY2dCLEtBQUFBLE1BQXlCWixFQUF2Q1AsS0FBMEJvQixVQUFhYixFQVAzQ0MsRUFBQXdCLEVBQUFrQixHQUlJekMsRUFBZVosRUFBVSxJQUFNLEtBVy9CSCxFQUZKVSxFQUFBLGtEQUFBSSxFQUFBLGVBQUFDLEVBQUEsMkRBRUlVLEVBQWVDLEVBQUFiLEVBQUFDLEVBQUFDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvLyAtLSAgICAgICAgICAgICAgIFZBUklBQkxFUyBVU0VEICAgICAgICAgICAgICAtLSAvL1xyXG4gICAgdmFyIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICAvLyAtLSBTZXQgYSBkdW1teSBlbGVtZW50IGZvciBwb3NpdGlvbiAwIC0tIC8vXHJcbiAgICB2YXIgcm92ZXJzID0gWydkdW1teScsICdvcHBvcnR1bml0eScsICdjdXJpb3NpdHknLCAnc3Bpcml0J107XHJcblxyXG4gICAgLy8gLS0gQ29udGFpbmVyIGZvciBkaXNwbGF5aW5nIHRoZSBwaWN0dXJlcyAtLSAvL1xyXG4gICAgdmFyIHBob3Rvc0NvbnRhaW5lciA9ICQoJy5waG90b3NDb250YWluZXInKTtcclxuXHJcbiAgICAvLyAtLSBCdXR0b24gdG8gc2VhcmNoIGZvciB0aGUgcGljdHVyZXMgLS0gLy9cclxuICAgIHZhciByYW5kb21CdXR0b24gPSAkKCcjcmFuZG9tQnV0dG9uJyk7XHJcbiAgICB2YXIgc2VhcmNoQnV0dG9uID0gJCgnI3NlYXJjaEJ1dHRvbicpO1xyXG5cclxuICAgIC8vIC0tICAgICAgIFJBTkdFIElOUFVUIChVc2VyIGNob2ljZSkgICAgICAgIC0tIC8vXHJcbiAgICAvLyAtLSBSYW5nZSBpbnB1dCBmb3IgIyBvZiBQaWN0dXJlcyB0byBkaXNwbGF5IC0tIC8vXHJcbiAgICB2YXIgcmFuZ2VJbWFnZXNUb0Rpc3BsYXkgPSAkKCcjcmFuZ2VJbWFnZXNUb0Rpc3BsYXknKTtcclxuICAgIC8vIC0tIFJhbmdlIGlucHV0IHRvIFNlbGVjdCBIRUlHSFQgb2YgdGhlIHBpY3R1cmVzIC0tIC8vXHJcbiAgICB2YXIgcmFuZ2VIZWlnaHRJbWFnZSA9ICQoJyNyYW5nZUhlaWdodEltYWdlJyk7XHJcbiAgICAvLyAtLSBSYW5nZSBpbnB1dCB0byBTZWxlY3QgV0lEVEggb2YgdGhlIHBpY3R1cmVzIC0tIC8vXHJcbiAgICB2YXIgcmFuZ2VXaWR0aEltYWdlID0gJCgnI3JhbmdlV2lkdGhJbWFnZScpO1xyXG5cclxuICAgIC8vIC0tICAgICBSQU5HRSBWQUxVRSBESVNQTEFZIGZvciBIVE1MICAgICAtLSAvL1xyXG4gICAgdmFyIGltYWdlc1RvRGlzcGxheVRleHQgPSAkKCcjaW1hZ2VzVG9EaXNwbGF5VGV4dCcpO1xyXG4gICAgdmFyIHdpZHRoSW1hZ2VUZXh0ID0gJCgnI3dpZHRoSW1hZ2VUZXh0Jyk7XHJcbiAgICB2YXIgaGVpZ2h0SW1hZ2VUZXh0ID0gJCgnI2hlaWdodEltYWdlVGV4dCcpO1xyXG5cclxuICAgIC8vIC0tICAgICBSb3ZlciBCdXR0b25zICAgICAtLSAvL1xyXG4gICAgdmFyIHNwaXJpdEJ1dHRvbiA9ICQoJyNzcGlyaXQnKTtcclxuICAgIHZhciBjdXJpb3NpdHlCdXR0b24gPSAkKCcjY3VyaW9zaXR5Jyk7XHJcbiAgICB2YXIgb3Bwb3J0dW5pdHlCdXR0b24gPSAkKCcjb3Bwb3J0dW5pdHknKTtcclxuICAgIC8vIC0tIERlZmF1bHQgdmFsdWUgLS0gLy9cclxuICAgIHZhciBjaG9zZW5Sb3ZlciA9ICdjdXJpb3NpdHknO1xyXG5cclxuICAgIC8vIC0tICAgICBERUZBVUxUIFZBTFVFUyBGT1IgREVGQVVMVCBTRUFSQ0ggICAgIC0tIC8vXHJcbiAgICB2YXIgcGljdHVyZXNUb0Rpc3BsYXkgPSAxMDtcclxuICAgIC8vIC0tIFBpY3R1cmUgd2lkdGggLS0gLy9cclxuICAgIHZhciB3aWR0aFZhbHVlID0gMzAwO1xyXG4gICAgLy8gLS0gUGljdHVyZSBoZWlnaHQgLS0gLy9cclxuICAgIHZhciBoZWlnaHRWYWx1ZSA9IDMwMDtcclxuXHJcbiAgICAvLyAtLSBTdG9yZXMgYSByYW5kb20gcm92ZXItLSAvL1xyXG4gICAgdmFyIHJhbmRvbVJvdmVyO1xyXG4gICAgLy8gLS0gU3RvcmVzIHRoZSBNYXJ0aWFuIGRheSBwYXJhbWV0ZXIgKFNvbCkgZm9yIHRoZSB1cmwgLS0gLy9cclxuICAgIHZhciBzb2xQYXJhbWV0ZXI7XHJcbiAgICAvLyAtLSBTdG9yZXMgdGhlIFVSTCB2YWx1ZSAtLSAvL1xyXG4gICAgdmFyIHVybDtcclxuXHJcbiAgICAvLyAtLSBHZW5lcmljIHJhbmRvbWl6ZSBmdW5jdGlvbi0tIC8vXHJcbiAgICBmdW5jdGlvbiByYW5kb21pemUobWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gLS0gICAgIERFRkFVTFQgVkFMVUVTIGRpc3BsYXllZCBpbiB0aGUgSFRNTCAgICAgLS0gLy9cclxuICAgIGltYWdlc1RvRGlzcGxheVRleHQuaHRtbCg1KTtcclxuICAgIHdpZHRoSW1hZ2VUZXh0Lmh0bWwod2lkdGhWYWx1ZSk7XHJcbiAgICBoZWlnaHRJbWFnZVRleHQuaHRtbChoZWlnaHRWYWx1ZSk7XHJcblxyXG5cclxuXHJcbiAgICAvLyAtLSAgICAgRVZFTlRTIFRPIENPTExFQ1QgVVNFUiBJTlBVVCBPTiBSQU5HRVMgICAgIC0tIC8vXHJcbiAgICByYW5nZUltYWdlc1RvRGlzcGxheS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpbWFnZXNUb0Rpc3BsYXlUZXh0Lmh0bWwoJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgcGljdHVyZXNUb0Rpc3BsYXkgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgIC8vIEkgbXVsdGlwbGllZCB0aGUgdXNlciBjaG9pY2UgYnkgMiBiZWNhdXNlIHRoZSByZXN1bHRzIGFsd2F5cyBicmluZyBkdXBsaWNhdGVzXHJcbiAgICAgICAgcGljdHVyZXNUb0Rpc3BsYXkgKj0gMjtcclxuICAgIH0pO1xyXG5cclxuICAgIHJhbmdlV2lkdGhJbWFnZS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB3aWR0aEltYWdlVGV4dC5odG1sKCQodGhpcykudmFsKCkpO1xyXG4gICAgICAgIHdpZHRoVmFsdWUgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmFuZ2VIZWlnaHRJbWFnZS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBoZWlnaHRJbWFnZVRleHQuaHRtbCgkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICBoZWlnaHRWYWx1ZSA9ICQodGhpcykudmFsKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gLS0gICAgIEZVTkNUSU9OIFRPIFNFTEVDVCBST1ZFUiAoVXNlciBjaG9pY2UpICAgICAtLSAvL1xyXG4gICAgJCgnLnJvdmVyQnV0dG9uJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY2hvc2VuUm92ZXIgPSAkKHRoaXMpWzBdLmlkO1xyXG5cclxuICAgICAgICBpZiAoc3Bpcml0QnV0dG9uLmhhc0NsYXNzKCdidG4tcHJlc3NlZCcpKSB7XHJcbiAgICAgICAgICAgIHNwaXJpdEJ1dHRvbi5yZW1vdmVDbGFzcygnYnRuLXByZXNzZWQnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGN1cmlvc2l0eUJ1dHRvbi5oYXNDbGFzcygnYnRuLXByZXNzZWQnKSkge1xyXG4gICAgICAgICAgICBjdXJpb3NpdHlCdXR0b24ucmVtb3ZlQ2xhc3MoJ2J0bi1wcmVzc2VkJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvcHBvcnR1bml0eUJ1dHRvbi5oYXNDbGFzcygnYnRuLXByZXNzZWQnKSkge1xyXG4gICAgICAgICAgICBvcHBvcnR1bml0eUJ1dHRvbi5yZW1vdmVDbGFzcygnYnRuLXByZXNzZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2J0bi1wcmVzc2VkJyk7XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIC0tICAgICBGVU5DVElPTiBUTyBUUklHR0VSIERFRkFVTFQgU0VBUkNIICAgICAtLSAvL1xyXG4gICAgc2VhcmNoQnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNvbFBhcmFtZXRlciA9IHJhbmRvbWl6ZSgxMDAwLCAyMDAwKTtcclxuICAgICAgICB1cmwgPSAnaHR0cHM6Ly9hcGkubmFzYS5nb3YvbWFycy1waG90b3MvYXBpL3YxL3JvdmVycy8nICsgY2hvc2VuUm92ZXIgKyAnL3Bob3Rvcz9zb2w9JyArIHNvbFBhcmFtZXRlciArICcmcGFnZT0xJmFwaV9rZXk9TFFsZmVsVWJPNWYwcnFrNVVBUzlSRUY1WGh0d2tHNm9GWDVUV09zYyc7XHJcblxyXG4gICAgICAgIGFqYXhDYWxsKHVybCwgd2lkdGhWYWx1ZSwgaGVpZ2h0VmFsdWUsIHBpY3R1cmVzVG9EaXNwbGF5LCBjaG9zZW5Sb3Zlciwgc29sUGFyYW1ldGVyKTtcclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gLS0gICAgIEZVTkNUSU9OIFRPIFRSSUdHRVIgUkFORE9NIFNFQVJDSCAgICAgLS0gLy9cclxuICAgIHJhbmRvbUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgKDEpIHdlIGNob29zZSBhIHJhbmRvbSByb3ZlciBmcm9tIHRoZSBhcnJheVxyXG4gICAgICAgIHJhbmRvbVJvdmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMykgKyAxO1xyXG4gICAgICAgIGNob3NlblJvdmVyID0gcm92ZXJzW3JhbmRvbVJvdmVyXTtcclxuICAgICAgICBzb2xQYXJhbWV0ZXIgPSByYW5kb21pemUoMTAwMCwgMjAwMCk7XHJcbiAgICAgICAgdXJsID0gJ2h0dHBzOi8vYXBpLm5hc2EuZ292L21hcnMtcGhvdG9zL2FwaS92MS9yb3ZlcnMvJyArIGNob3NlblJvdmVyICsgJy9waG90b3M/c29sPScgKyBzb2xQYXJhbWV0ZXIgKyAnJnBhZ2U9MSZhcGlfa2V5PUxRbGZlbFViTzVmMHJxazVVQVM5UkVGNVhodHdrRzZvRlg1VFdPc2MnO1xyXG5cclxuICAgICAgICBhamF4Q2FsbCh1cmwsIHdpZHRoVmFsdWUsIGhlaWdodFZhbHVlLCBwaWN0dXJlc1RvRGlzcGxheSwgY2hvc2VuUm92ZXIsIHNvbFBhcmFtZXRlcik7XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAvLyAtLSAgICAgQ0FMTCBUTyBUSEUgQVBJIFRPIFJFVFJJRVZFIEpTT04gREFUQSAgICAgLS0gLy9cclxuICAgIGZ1bmN0aW9uIGFqYXhDYWxsKHVybCwgd2lkdGhWYWx1ZSwgaGVpZ2h0VmFsdWUsIHBpY3R1cmVzVG9EaXNwbGF5LCBjaG9zZW5Sb3Zlciwgc29sUGFyYW1ldGVyKSB7XHJcbiAgICAgICAgJC5nZXRKU09OKHVybCwge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBcImpzb25cIlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZG9uZShkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIHBob3Rvc0NvbnRhaW5lci5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnBob3Rvcy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwaWN0dXJlc1RvRGlzcGxheTsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy53aWR0aCA9IHdpZHRoVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5oZWlnaHQgPSBoZWlnaHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGRhdGEucGhvdG9zW2ldLmltZ19zcmM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5tYXJnaW4gPSBcIjFlbSAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoaW1nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBob3Rvc0NvbnRhaW5lci5hcHBlbmQoZnJhZyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBob3Rvc0NvbnRhaW5lci5odG1sKGBObyBwaWN0dXJlcyBmb3IgJHtjaG9zZW5Sb3Zlcn0gb24gZGF5ICR7c29sUGFyYW1ldGVyfSwgcGxlYXNlIGhpdCB0aGUgYm90dG9uIGFnYWluIWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUm92ZXIgJHtjaG9zZW5Sb3Zlcn0uIE1hcnRpYWwgRGF5ICR7c29sUGFyYW1ldGVyfSBjaG9zZW5gKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pOyJdfQ==
